<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head th:replace="general :: page-head"></head>
<body>

<div th:replace="general :: navbar"></div>

<div class="container mt-4">
    <h2 class="mb-4">–°–ø–∏—Å–æ–∫ —Å–ª—É–∂–∞—â–∏—Ö</h2>

    <form method="get" class="row g-2 mb-4">

        <!-- –ò–º—è -->
        <div class="col-md-3">
            <input type="text" name="namePart" class="form-control" placeholder="–ò–º—è"
                   th:value="${namePart}">
        </div>

        <!-- –î–æ–ª–∂–Ω–æ—Å—Ç—å -->
        <div class="col-md-3">
            <select name="postId" class="form-select">
                <option value="">–í—Å–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏</option>
                <option th:each="p : ${posts}"
                        th:value="${p.id}"
                        th:text="${p.postName}"
                        th:selected="${p.id == postId}">
                </option>
            </select>
        </div>

        <!-- –°—Ç–∞–∂ -->
        <div class="col-md-2">
            <input type="number" name="experience" class="form-control" placeholder="–°—Ç–∞–∂"
                   th:value="${experience}">
        </div>

        <div class="col-md-1">
            <button type="submit" class="btn btn-success">üîç</button>
        </div>
    </form>

    <div class="d-flex justify-content-end">
        <a class="btn btn-success mb-3" th:href="@{/employee/edit}">
            ‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
        </a>
    </div>

    <table class="table table-hover">
        <thead>
        <tr>
            <th>–§–ò–û</th>
            <th>–î–æ–ª–∂–Ω–æ—Å—Ç—å</th>
            <th>–°—Ç–∞–∂</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="emp : ${employees}">
            <td>
                <a th:href="@{'/employee/' + ${emp.id}}" th:text="${emp.name}"></a>
            </td>
            <td th:text="${emp.postId != null ? emp.postId.postName : '–ë–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç'}"></td>
            <td th:text="${emp.experience}"></td>
        </tr>
        </tbody>
    </table>
</div>

<div th:replace="general :: site-script"></div>
</body>
</html>
